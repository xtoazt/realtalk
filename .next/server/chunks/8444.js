exports.id=8444,exports.ids=[8444],exports.modules={3582:()=>{},5528:(e,t,s)=>{"use strict";s.d(t,{n:()=>u});var r=s(89812),a=s(49837);s(93600);var n=s(43394),i=s(53380),l=s(32309),o=s(85066),c=s(18610),d=s(75269);function u({roomId:e,userId:t,signalingUrl:s="https://realtalk-voice-server.onrender.com"}){let[u,h]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[g,f]=(0,a.useState)([]),p=(0,a.useRef)(null);return(0,a.useRef)(new Map),(0,a.useRef)(new Map),(0,a.useRef)(null),(0,r.jsxs)(i.Zp,{className:"glass-effect",children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(l.A,{className:"h-5 w-5"})," Voice Room"]})}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Status: ",u?"Connected":"Connecting..."," â€¢ Peers: ",g.length]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{onClick:()=>{x(e=>{let t=!e;return p.current?.getAudioTracks().forEach(e=>e.enabled=!t),t})},variant:m?"destructive":"default",children:[m?(0,r.jsx)(o.A,{className:"h-4 w-4 mr-1"}):(0,r.jsx)(c.A,{className:"h-4 w-4 mr-1"}),m?"Unmute":"Mute"]}),(0,r.jsxs)(n.$,{onClick:()=>location.reload(),variant:"outline",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-1"})," Leave"]})]})]})]})}},7059:()=>{},7132:()=>{},15892:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});class r{static getInstance(){return r.instance||(r.instance=new r),r.instance}constructor(){this.changelogData=null,this.STORAGE_KEY="realtalk_last_seen_version",this.loadChangelog()}async loadChangelog(){try{return}catch(e){console.error("Error loading changelog:",e)}}async getChangelog(){return this.changelogData||await this.loadChangelog(),this.changelogData}async getLatestVersion(){let e=await this.getChangelog();return e?.latest||null}async getAllVersions(){let e=await this.getChangelog();return e?Object.values(e.versions).sort((e,t)=>this.compareVersions(t.version,e.version)):[]}async getVersionInfo(e){let t=await this.getChangelog();return t?.versions[e]||null}getLastSeenVersion(){return null}setLastSeenVersion(e){}async hasNewVersion(){let e=await this.getLatestVersion(),t=this.getLastSeenVersion();return e&&t?this.compareVersions(e,t)>0:!!e}async getNewVersionInfo(){if(!await this.hasNewVersion())return null;let e=await this.getLatestVersion();return e?this.getVersionInfo(e):null}markVersionAsSeen(e){e?this.setLastSeenVersion(e):this.getLatestVersion().then(e=>{e&&this.setLastSeenVersion(e)})}compareVersions(e,t){let s=e.split(".").map(e=>parseInt(e,10)),r=t.split(".").map(e=>parseInt(e,10)),a=Math.max(s.length,r.length);for(let e=0;e<a;e++){let t=s[e]||0,a=r[e]||0;if(t>a)return 1;if(t<a)return -1}return 0}formatDate(e){try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return e}}getVersionBadgeColor(e){switch(e){case"major":return"bg-red-500 text-white";case"minor":return"bg-blue-500 text-white";case"patch":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}}}let a=r.getInstance()},26575:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,64457,23)),Promise.resolve().then(s.t.bind(s,82833,23)),Promise.resolve().then(s.t.bind(s,88409,23)),Promise.resolve().then(s.t.bind(s,88744,23)),Promise.resolve().then(s.t.bind(s,35704,23)),Promise.resolve().then(s.t.bind(s,21500,23)),Promise.resolve().then(s.t.bind(s,22026,23)),Promise.resolve().then(s.t.bind(s,43756,23))},28571:(e,t,s)=>{Promise.resolve().then(s.bind(s,78311))},43394:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var r=s(89812),a=s(49837),n=s(1317),i=s(49602),l=s(87677);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-sm hover:shadow-md focus-visible:shadow-md gap-2 px-4 py-2",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",modern:"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground hover:from-primary/90 hover:to-primary/80 shadow-lg hover:shadow-xl hover:scale-105",glass:"backdrop-blur-md bg-white/20 dark:bg-gray-900/20 border border-white/20 dark:border-gray-700/20 hover:bg-white/30 dark:hover:bg-gray-900/30"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...i},c)=>{let d=a?n.DX:"button";return(0,r.jsx)(d,{className:(0,l.cn)(o({variant:t,size:s,className:e})),ref:c,...i})});c.displayName="Button"},53380:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>l});var r=s(89812),a=s(49837),n=s(87677);let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-200 hover:shadow-md focus-within:shadow-md p-6",e),...t}));i.displayName="Card";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},62915:(e,t,s)=>{Promise.resolve().then(s.bind(s,81335))},67136:(e,t,s)=>{"use strict";s.d(t,{B:()=>n});var r=s(89812),a=s(49837);function n(){let e=(0,a.useRef)(null);return(0,r.jsx)("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-0",style:{background:"transparent"}})}},70267:()=>{},78311:(e,t,s)=>{"use strict";s.d(t,{default:()=>V});var r=s(89812);s(7059);var a=s(62760),n=s.n(a),i=s(27810),l=s(84962),o=s(67136),c=s(49837),d=s(5528),u=s(43394),h=s(32309),m=s(82105);function x(){let{user:e}=(0,l.J)(),[t,s]=(0,c.useState)(!1),[a,n]=(0,c.useState)(!1),[i,o]=(0,c.useState)(!1),[x,g]=(0,c.useState)(!1);return e&&a&&!i?(0,r.jsx)("div",{className:"fixed bottom-4 right-4 z-[60]",children:t?(0,r.jsxs)("div",{className:"w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-200 dark:border-gray-800",children:[(0,r.jsx)("div",{className:"text-sm font-medium",children:"Voice (global)"}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:(0,r.jsx)(u.$,{size:"sm",variant:"ghost",onClick:()=>s(!1),children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})})]}),(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)(d.n,{roomId:"global-voice",userId:e.id})})]}):(0,r.jsx)(u.$,{className:"rounded-full h-12 w-12 shadow-lg",title:"Open Voice Widget",onClick:()=>s(!0),children:(0,r.jsx)(h.A,{className:"h-5 w-5"})})}):null}function g(){let{user:e}=(0,l.J)(),[t,s]=(0,c.useState)(!1),[a,n]=(0,c.useState)(null),[i,o]=(0,c.useState)(null);return t?(0,r.jsxs)("div",{className:"fixed inset-0 z-[70] pointer-events-auto",children:[(0,r.jsx)("div",{className:"absolute inset-0 backdrop-blur-sm",style:{background:"rgba(180,200,220,0.25)"}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[url('/placeholder.svg')] opacity-10"}),(0,r.jsx)("div",{className:"absolute inset-0 frost-overlay"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"px-6 py-4 rounded-xl border bg-white/80 dark:bg-gray-900/80 shadow-2xl max-w-md text-center",children:[(0,r.jsx)("div",{className:"text-xl font-semibold mb-2",children:"Account Frozen"}),a&&(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:a}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"You cannot send messages or join voice while frozen."})]})}),i&&(0,r.jsx)("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 px-4 py-3 rounded-lg bg-black text-white shadow-lg",children:i})]}):null}var f=s(53380),p=s(43862),v=s(8329);class b extends c.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:(0,r.jsxs)(f.Zp,{className:"w-full max-w-md",children:[(0,r.jsxs)(f.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,r.jsx)(p.A,{className:"h-12 w-12 text-destructive"})}),(0,r.jsx)(f.ZB,{className:"text-xl text-destructive",children:"Something went wrong"})]}),(0,r.jsxs)(f.Wu,{className:"text-center space-y-4",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"We encountered an unexpected error. Please try refreshing the page."}),!1,(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)(u.$,{onClick:this.handleReset,className:"w-full",children:[(0,r.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Try again"]}),(0,r.jsx)(u.$,{variant:"outline",onClick:()=>window.location.reload(),className:"w-full",children:"Refresh page"})]})]})]})}):this.props.children}}var j=s(47419),w=s(16138),y=s(50987),N=s(73438),k=s(15892);function C({onClose:e}){let[t,s]=(0,c.useState)(null),[a,n]=(0,c.useState)(!1),i=()=>{t&&k.K.markVersionAsSeen(t.version),n(!1),setTimeout(e,300)};return t?(0,r.jsx)("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,children:(0,r.jsxs)(f.Zp,{className:`w-full max-w-lg bg-background/95 backdrop-blur-sm border-2 transition-all duration-300 ${a?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[(0,r.jsxs)(f.aR,{className:"relative pb-4",children:[(0,r.jsx)(u.$,{variant:"ghost",size:"icon",onClick:i,className:"absolute right-2 top-2 h-8 w-8 rounded-full",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3 pr-10",children:[(e=>{switch(e){case"major":return(0,r.jsx)(j.A,{className:"h-5 w-5 text-red-500"});case"minor":return(0,r.jsx)(w.A,{className:"h-5 w-5 text-blue-500"});case"patch":return(0,r.jsx)(y.A,{className:"h-5 w-5 text-green-500"});default:return(0,r.jsx)(N.A,{className:"h-5 w-5 text-gray-500"})}})(t.type),(0,r.jsxs)("div",{children:[(0,r.jsxs)(f.ZB,{className:"text-xl",children:["What's New in v",t.version]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.K.getVersionBadgeColor(t.type)}`,children:(e=>{switch(e){case"major":return"Major Update";case"minor":return"New Features";case"patch":return"Bug Fixes & Improvements";default:return"Update"}})(t.type)}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:k.K.formatDate(t.date)})]})]})]})]}),(0,r.jsxs)(f.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-2",children:t.title}),(0,r.jsx)("ul",{className:"space-y-2",children:t.changes.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,r.jsx)("span",{className:"text-primary mt-1",children:"â€¢"}),(0,r.jsx)("span",{children:e})]},t))})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,r.jsx)(u.$,{variant:"outline",onClick:i,children:"Maybe Later"}),(0,r.jsx)(u.$,{onClick:i,className:"bg-primary hover:bg-primary/90",children:"Got it!"})]})]})]})}):null}function S({children:e}){let[t,s]=(0,c.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[e,t&&(0,r.jsx)(C,{onClose:()=>s(!1)})]})}function V({children:e}){return(0,r.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,r.jsx)("body",{className:n().className,children:(0,r.jsx)(i.N,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!1,children:(0,r.jsx)(l.v,{children:(0,r.jsx)(b,{children:(0,r.jsxs)(S,{children:[(0,r.jsx)(o.B,{}),e,(0,r.jsx)(x,{}),(0,r.jsx)(g,{})]})})})})})})}},81335:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(430).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/rohan/code/realtalk/app/ClientLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rohan/code/realtalk/app/ClientLayout.tsx","default")},81622:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>n});var r=s(79054),a=s(81335);s(70267);let n={title:"real.",description:"A real-time chat application.",icons:{icon:"/favicon.png"},generator:"v0.dev"};function i({children:e}){return(0,r.jsx)(a.default,{children:e})}},82997:()=>{},84962:(e,t,s)=>{"use strict";s.d(t,{J:()=>o,v:()=>l});var r=s(89812),a=s(49837),n=s(27810);let i=(0,a.createContext)(void 0);function l({children:e}){let[t,s]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0),{setTheme:c,theme:d}=(0,n.D)(),[u,h]=(0,a.useState)(!1),m=e=>{};return(0,r.jsx)(i.Provider,{value:{user:t,loading:l,setUser:e=>{console.log("[UserProvider] updateUser called with:",e),s(e),u&&e&&(c(e.theme||"light"),m(e))}},children:e})}function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},86407:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,56099,23)),Promise.resolve().then(s.t.bind(s,58047,23)),Promise.resolve().then(s.t.bind(s,53475,23)),Promise.resolve().then(s.t.bind(s,84114,23)),Promise.resolve().then(s.t.bind(s,1158,23)),Promise.resolve().then(s.t.bind(s,84378,23)),Promise.resolve().then(s.t.bind(s,32264,23)),Promise.resolve().then(s.t.bind(s,80994,23))},87677:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(38330),a=s(58697);function n(...e){return(0,a.QP)((0,r.$)(e))}}};