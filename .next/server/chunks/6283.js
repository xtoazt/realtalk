"use strict";exports.id=6283,exports.ids=[6283],exports.modules={14884:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(65519).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},26283:(e,s,a)=>{a.r(s),a.d(s,{default:()=>X});var t=a(89812),n=a(49837),i=a(56954),r=a(27810),l=a(43394),c=a(53380),d=a(76576),o=a(55491),m=a(60467),h=a(40383),u=a(26958),x=a(94222),p=a(51958),g=a(60064),f="Switch",[y,j]=(0,h.A)(f),[N,b]=y(f),v=n.forwardRef((e,s)=>{let{__scopeSwitch:a,name:i,checked:r,defaultChecked:l,required:c,disabled:d,value:h="on",onCheckedChange:x,form:p,...f}=e,[y,j]=n.useState(null),b=(0,m.s)(s,e=>j(e)),v=n.useRef(!1),w=!y||p||!!y.closest("form"),[k=!1,S]=(0,u.i)({prop:r,defaultProp:l,onChange:x});return(0,t.jsxs)(N,{scope:a,checked:k,disabled:d,children:[(0,t.jsx)(g.sG.button,{type:"button",role:"switch","aria-checked":k,"aria-required":c,"data-state":C(k),"data-disabled":d?"":void 0,disabled:d,value:h,...f,ref:b,onClick:(0,o.m)(e.onClick,e=>{S(e=>!e),w&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),w&&(0,t.jsx)(A,{control:y,bubbles:!v.current,name:i,value:h,checked:k,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});v.displayName=f;var w="SwitchThumb",k=n.forwardRef((e,s)=>{let{__scopeSwitch:a,...n}=e,i=b(w,a);return(0,t.jsx)(g.sG.span,{"data-state":C(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:s})});k.displayName=w;var A=e=>{let{control:s,checked:a,bubbles:i=!0,...r}=e,l=n.useRef(null),c=(0,x.Z)(a),d=(0,p.X)(s);return n.useEffect(()=>{let e=l.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==a&&s){let t=new Event("click",{bubbles:i});s.call(e,a),e.dispatchEvent(t)}},[c,a,i]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...r,tabIndex:-1,ref:l,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function C(e){return e?"checked":"unchecked"}var S=a(87677);let I=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)(v,{className:(0,S.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:(0,t.jsx)(k,{className:(0,S.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));I.displayName=v.displayName;var P=a(40576),K=a(14884),T=a(92289),M=a(65519);let $=(0,M.A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);var R=a(40964);let z=(0,M.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),E=(0,M.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Z=(0,M.A)("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var q=a(98004),O=a(84962),_=a(81227),B=a(50266);let G=(0,M.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var H=a(4408),L=a(58844);let W=(0,M.A)("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);var D=a(18610),F=a(73438),U=a(16138),J=a(61181);function Y({user:e,onUpdateSettings:s}){let[a,i]=(0,n.useState)(J.W0),[r,d]=(0,n.useState)({defaultPersona:"assistant",autoAnalyze:!0,smartSuggestions:!0,contentModeration:!0,sentimentAnalysis:!0,languageTranslation:!0,imageAnalysis:!0,voiceToText:!1,smartSummaries:!0,contextualHelp:!0,personalizedResponses:!0}),[o,m]=(0,n.useState)(!1),h=e=>{i(s=>({...s,[e]:!s[e]}))},u=(e,s)=>{d(a=>({...a,[e]:s}))},x=async()=>{m(!0);try{localStorage.setItem("ai-preferences",JSON.stringify(r)),await s({ai_preferences:r,smart_features:a}),console.log("Smart settings saved successfully!")}catch(e){console.error("Error saving smart settings:",e)}finally{m(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Zp,{className:"glass",children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(T.A,{className:"h-5 w-5 text-primary"}),"Smart AI Features"]})}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(a).map(([e,s])=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary"}),(0,t.jsx)("span",{className:"text-sm capitalize",children:e.replace(/([A-Z])/g," $1").toLowerCase()})]}),(0,t.jsx)(I,{checked:s,onCheckedChange:()=>h(e)})]},e))})})]}),(0,t.jsxs)(c.Zp,{className:"glass",children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(B.A,{className:"h-5 w-5 text-primary"}),"AI Persona Preferences"]})}),(0,t.jsxs)(c.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Default AI Persona"}),(0,t.jsx)("select",{value:r.defaultPersona,onChange:e=>u("defaultPersona",e.target.value),className:"w-full p-2 border border-input rounded-md bg-background",children:Object.entries(J.rb).map(([e,s])=>(0,t.jsx)("option",{value:e,children:s.name},e))}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:(e=>{let s=J.rb[e];return s?s.capabilities.join(", "):""})(r.defaultPersona)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(G,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Auto-analyze messages"})]}),(0,t.jsx)(I,{checked:r.autoAnalyze,onCheckedChange:e=>u("autoAnalyze",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Smart suggestions"})]}),(0,t.jsx)(I,{checked:r.smartSuggestions,onCheckedChange:e=>u("smartSuggestions",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(L.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Content moderation"})]}),(0,t.jsx)(I,{checked:r.contentModeration,onCheckedChange:e=>u("contentModeration",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)($,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Sentiment analysis"})]}),(0,t.jsx)(I,{checked:r.sentimentAnalysis,onCheckedChange:e=>u("sentimentAnalysis",e)})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(W,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Language translation"})]}),(0,t.jsx)(I,{checked:r.languageTranslation,onCheckedChange:e=>u("languageTranslation",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(G,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Image analysis"})]}),(0,t.jsx)(I,{checked:r.imageAnalysis,onCheckedChange:e=>u("imageAnalysis",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Voice-to-text"})]}),(0,t.jsx)(I,{checked:r.voiceToText,onCheckedChange:e=>u("voiceToText",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Smart summaries"})]}),(0,t.jsx)(I,{checked:r.smartSummaries,onCheckedChange:e=>u("smartSummaries",e)})]})]})]})]})]}),(0,t.jsxs)(c.Zp,{className:"glass",children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(K.A,{className:"h-5 w-5 text-primary"}),"Advanced AI Settings"]})}),(0,t.jsxs)(c.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Contextual help"})]}),(0,t.jsx)(I,{checked:r.contextualHelp,onCheckedChange:e=>u("contextualHelp",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(B.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Personalized responses"})]}),(0,t.jsx)(I,{checked:r.personalizedResponses,onCheckedChange:e=>u("personalizedResponses",e)})]}),(0,t.jsxs)("div",{className:"pt-4 border-t",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"AI Capabilities:"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"}),(0,t.jsx)("span",{children:"Natural language processing"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"}),(0,t.jsx)("span",{children:"Sentiment analysis"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"}),(0,t.jsx)("span",{children:"Content moderation"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"}),(0,t.jsx)("span",{children:"Smart suggestions"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),(0,t.jsx)("span",{children:"Image analysis"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),(0,t.jsx)("span",{children:"Language translation"})]})]})]})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(l.$,{onClick:x,disabled:o,className:"flex items-center gap-2",children:[o?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,t.jsx)(U.A,{className:"h-4 w-4"}),o?"Saving...":"Save Smart Settings"]})}),(0,t.jsx)(c.Zp,{className:"bg-primary/5 border-primary/20",children:(0,t.jsx)(c.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(T.A,{className:"h-5 w-5 text-primary mt-0.5"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium text-sm",children:"About Smart Features"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Smart features use AI to enhance your chat experience. They include sentiment analysis, content moderation, smart suggestions, and more. All AI processing is done securely and your privacy is protected."}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"• Real-time analysis"}),(0,t.jsx)("span",{children:"• Privacy-focused"}),(0,t.jsx)("span",{children:"• Customizable"})]})]})]})})})]})}let V=[{id:"blue",name:"Blue",color:"hsl(220, 70%, 50%)"},{id:"purple",name:"Purple",color:"hsl(270, 70%, 50%)"},{id:"pink",name:"Pink",color:"hsl(320, 70%, 50%)"},{id:"red",name:"Red",color:"hsl(0, 70%, 50%)"},{id:"orange",name:"Orange",color:"hsl(30, 70%, 50%)"},{id:"yellow",name:"Yellow",color:"hsl(60, 70%, 50%)"},{id:"green",name:"Green",color:"hsl(120, 70%, 50%)"},{id:"teal",name:"Teal",color:"hsl(180, 70%, 50%)"}];function X(){let{user:e,loading:s,setUser:a}=(0,O.J)(),{theme:o,setTheme:m}=(0,r.D)(),[h,u]=(0,n.useState)(!1),[x,p]=(0,n.useState)("#6366f1"),[g,f]=(0,n.useState)("default"),[y,j]=(0,n.useState)(null),[N,b]=(0,n.useState)(!1),[v,w]=(0,n.useState)("general"),k=(0,i.useRouter)(),A=async()=>{try{let e=await _.l.requestPermission();f(_.l.getPermission()),e&&(await C({notifications_enabled:!0}),_.l.showNotification({title:"Notifications Enabled",body:"You'll now receive notifications from real.",icon:"/favicon.png"}))}catch(e){console.error("Failed to request notification permission:",e)}},C=async s=>{if(!e){j("User data not available. Please try again.");return}u(!0),j(null);try{let t=await fetch("/api/user/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(t.ok){let n=await t.json();n&&n.user?a(n.user):a({...e,...s}),s.hue&&(document.documentElement.className=document.documentElement.className.replace(/hue-\w+/g,"").concat(` hue-${s.hue}`))}else{let e=await t.json();j(`Failed to update settings: ${e.error||t.statusText}`)}}catch(e){j(`An unexpected error occurred: ${e.message}`)}finally{u(!1)}},S=async()=>{if(confirm("Are you sure you want to delete your account? This action cannot be undone."))try{let e=await fetch("/api/user/delete",{method:"DELETE"});if(e.ok)k.push("/auth");else{let s=await e.json();alert(`Failed to delete account: ${s.error||e.statusText}`)}}catch(e){alert("An unexpected error occurred while deleting account.")}},M=async e=>{let s=e?"dark":"light";m(s);try{await C({theme:s})}catch{}};if(s||!N)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-muted-foreground animate-pulse",children:"Loading..."})});if(!e)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"User data not available. Redirecting..."})});let B="asdf"===e.signup_code||"qwea"===e.signup_code;return(0,t.jsx)("div",{className:"min-h-screen p-4 relative z-10",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto pt-20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsxs)(l.$,{"data-settings-back":!0,variant:"ghost",onClick:()=>{try{let e=new URLSearchParams(location.search).get("back");if("lite"===e)return k.push("/dashboard/lite");if("simple"===e)return k.push("/dashboard/simple");let s=localStorage.getItem("ui-mode");if("lite"===s)return k.push("/dashboard/lite");if("simple"===s)return k.push("/dashboard/simple")}catch{}k.push("/dashboard")},className:"hover-lift",children:[(0,t.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6 border-b",children:[(0,t.jsxs)(l.$,{variant:"general"===v?"default":"ghost",onClick:()=>w("general"),className:"flex items-center gap-2",children:[(0,t.jsx)(K.A,{className:"h-4 w-4"}),"General"]}),(0,t.jsxs)(l.$,{variant:"smart"===v?"default":"ghost",onClick:()=>w("smart"),className:"flex items-center gap-2",children:[(0,t.jsx)(T.A,{className:"h-4 w-4"}),"Smart AI"]})]}),y&&(0,t.jsx)("div",{className:"text-sm text-destructive text-center p-3 bg-destructive/10 rounded-lg mb-4 animate-fadeIn border border-destructive/20",children:y}),"general"===v&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Zp,{className:"glass-effect hover-lift animate-fadeIn",children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{children:"Profile"})}),(0,t.jsx)(c.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Username"}),(0,t.jsx)(d.p,{value:e.username,disabled:!0,className:"mt-1"})]})})]}),(0,t.jsxs)(c.Zp,{className:"glass-effect hover-lift animate-fadeIn",children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)($,{className:"h-5 w-5"}),"Appearance"]})}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:["dark"===o?(0,t.jsx)(R.A,{className:"h-5 w-5"}):(0,t.jsx)(z,{className:"h-5 w-5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Dark Mode"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Toggle between light and dark themes"})]})]}),(0,t.jsx)(I,{checked:"dark"===o,onCheckedChange:M,disabled:h})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-3 block",children:"Color Hue"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-4",children:"Choose a color that affects shadows, borders, and accents"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3",children:V.map(s=>(0,t.jsxs)("button",{onClick:()=>{C({hue:s.id});try{localStorage.setItem("user-hue",s.id)}catch{}},className:`p-3 rounded-lg border-2 transition-all duration-200 hover-lift ${e.hue===s.id?"border-current hue-shadow":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,style:{borderColor:e.hue===s.id?s.color:void 0,boxShadow:e.hue===s.id?`0 4px 20px ${s.color}30`:void 0},children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full mx-auto mb-2",style:{backgroundColor:s.color}}),(0,t.jsx)("p",{className:"text-xs font-medium",children:s.name})]},s.id))})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-3 block",children:"UI Mode"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>fetch("/api/user/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ui_mode:"simple"})}).then(()=>{try{localStorage.setItem("ui-mode","simple")}catch{}location.href="/dashboard/simple"}),children:"Simple"}),(0,t.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>fetch("/api/user/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ui_mode:"lite"})}).then(()=>{try{localStorage.setItem("ui-mode","lite")}catch{}location.href="/dashboard/lite"}),children:"Lite"}),(0,t.jsx)(l.$,{size:"sm",onClick:()=>fetch("/api/user/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ui_mode:"full"})}).then(()=>{try{localStorage.setItem("ui-mode","full")}catch{}location.href="/dashboard"}),children:"Full"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Simple is ultra-basic, Lite is minimal, Full has all features."})]})]})]}),B&&(0,t.jsxs)(c.Zp,{className:"glass-effect hover-lift animate-fadeIn hue-bg border-2 hue-border",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"✨ Premium Customization"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Special features unlocked with your signup code"})]}),(0,t.jsxs)(c.Wu,{className:"space-y-4",children:["asdf"===e.signup_code&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Name Color"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("input",{type:"color",value:x,onChange:e=>p(e.target.value),className:"w-12 h-12 rounded-lg border-2 border-gray-200 dark:border-gray-700"}),(0,t.jsx)(l.$,{size:"sm",onClick:()=>C({name_color:x}),disabled:h,className:"hover-glow",children:h?"Saving...":"Save Color"})]})]}),"qwea"===e.signup_code&&(0,t.jsxs)("div",{className:"p-4 bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/30 dark:to-yellow-800/30 rounded-lg border border-yellow-300 dark:border-yellow-700",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 flex items-center gap-2",children:"✨ Gold Animation Enabled"}),(0,t.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:"Your name appears with a shiny gold animation in chats"})]})]})]}),(0,t.jsxs)(c.Zp,{className:"glass-effect hover-lift animate-fadeIn",children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[e.notifications_enabled?(0,t.jsx)(E,{className:"h-5 w-5 hue-accent"}):(0,t.jsx)(Z,{className:"h-5 w-5"}),"Notifications"]})}),(0,t.jsxs)(c.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Desktop Notifications"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Get notified about new messages",navigator.userAgent.includes("CrOS")&&" • ChromeOS: keep this tab open to see alerts while multitasking"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Status:"," ",(0,t.jsx)("span",{className:"granted"===g?"text-green-600":"text-orange-600",children:g})]})]}),(0,t.jsx)(I,{checked:e.notifications_enabled,onCheckedChange:async e=>{e&&"granted"!==g?await A():await C({notifications_enabled:e})},disabled:h})]}),"denied"===g&&(0,t.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-destructive",children:"Notifications are blocked. Please enable them in your browser settings and refresh the page."})}),"granted"===g&&e.notifications_enabled&&(0,t.jsx)(l.$,{size:"sm",onClick:()=>{"granted"===g&&_.l.showNotification({title:"real. Test",body:"Notifications are working! \uD83C\uDF89",icon:"/favicon.png"})},variant:"outline",className:"hover-glow bg-transparent",children:"Test Notification"})]})]}),(0,t.jsxs)(c.Zp,{className:"glass-effect hover-lift animate-fadeIn border-destructive/20",children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"text-destructive flex items-center gap-2",children:[(0,t.jsx)(q.A,{className:"h-5 w-5"}),"Danger Zone"]})}),(0,t.jsxs)(c.Wu,{children:[(0,t.jsxs)(l.$,{variant:"destructive",onClick:S,className:"w-full",children:[(0,t.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Delete Account"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"This action cannot be undone"})]})]})]}),"smart"===v&&(0,t.jsx)(Y,{user:e,onUpdateSettings:C})]})})}},40576:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(65519).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},40964:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(65519).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},61181:(e,s,a)=>{a.d(s,{BW:()=>x,S8:()=>m,W0:()=>c,b1:()=>o,eE:()=>u,pL:()=>d,pf:()=>h,rb:()=>l});var t=a(14927);class n{constructor(){this.apiKeys=[],this.currentKeyIndex=0,this.exhaustedKeys=new Set,this.loading=!1,this.error=null;let e=process.env.GEMINI_API_KEY;e&&this.apiKeys.push(e),this.loadAdditionalKeys()}getError(){return this.error}isLoading(){return this.loading}async loadAdditionalKeys(){this.loading=!0,this.error=null;try{let e=await fetch("/api/gemini/keys");if(e.ok){let s=await e.json();this.apiKeys.push(...s.filter(e=>!this.exhaustedKeys.has(e)))}else{let s=await e.json().catch(()=>({}));this.error=s.error||"Failed to load Gemini API keys."}}catch(e){this.error="Failed to load Gemini API keys."}finally{this.loading=!1}}getCurrentKey(){return 0===this.apiKeys.length?null:this.apiKeys[this.currentKeyIndex]}markKeyAsExhausted(e){this.exhaustedKeys.add(e),this.apiKeys=this.apiKeys.filter(s=>s!==e),this.currentKeyIndex>=this.apiKeys.length&&(this.currentKeyIndex=0),0===this.apiKeys.length&&this.triggerGoldMemberNotification()}async addNewKey(e,s){try{let a=new t.ij(e).getGenerativeModel({model:"gemini-1.5-flash"});await a.generateContent("test");let n=await fetch("/api/gemini/keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e,addedBy:s})});if(n.ok)return await this.loadAdditionalKeys(),{success:!0,message:"API key added successfully!"};{let e=await n.json().catch(()=>({}));return{success:!1,message:e.error||"Failed to add API key."}}}catch(e){return{success:!1,message:"Invalid API key or network error."}}}triggerGoldMemberNotification(){}getKeyStatus(){return{totalKeys:this.apiKeys.length,exhaustedKeys:this.exhaustedKeys.size,currentKeyIndex:this.currentKeyIndex,hasAvailableKeys:this.apiKeys.length>0,error:this.error,loading:this.loading}}}let i=new n,r=()=>{let e=i.getCurrentKey();if(!e)throw i.triggerGoldMemberNotification(),Error("No available Gemini API keys");return new t.ij(e).getGenerativeModel({model:"gemini-1.5-flash"})},l={assistant:{name:"real.AI",personality:'You are real.AI, a helpful and friendly AI assistant in the chat app "real.". Keep responses concise, friendly, and conversational.',capabilities:["conversation","help","entertainment"]},tutor:{name:"Study Buddy",personality:"You are Study Buddy, an educational AI tutor. Help users learn and explain complex topics in simple terms.",capabilities:["education","explanation","study tips"]},creative:{name:"Creative Muse",personality:"You are Creative Muse, an AI that inspires creativity. Help with writing, brainstorming, and creative projects.",capabilities:["writing","brainstorming","creativity"]}},c={smartSuggestions:!0,contentModeration:!0,aiResponses:!0,conversationSummary:!0};async function d(e,s,a="assistant"){try{let t=r(),n=l[a],i=`
${n.personality}

Context: ${s.chatType} chat, user: ${s.username}
Recent messages: ${s.messageHistory?.slice(-3).map(e=>`${e.role}: ${e.content}`).join("\n")||"No recent messages"}

User message: ${e}

Respond as ${n.name} in a helpful, engaging way. Keep it under 150 words.
`;return{content:(await t.generateContent(i)).response.text(),persona:n.name,confidence:.9}}catch(e){if(e.message?.includes("quota")||e.message?.includes("exceeded")){let e=i.getCurrentKey();e&&i.markKeyAsExhausted(e)}return{content:"I'm having trouble thinking right now. Please try again later.",persona:"real.AI",confidence:.1}}}async function o(e){try{let s=r(),a=`
Analyze this message for inappropriate content (hate speech, harassment, explicit content, spam, personal information).

Message: "${e}"

Respond with only: APPROPRIATE or INAPPROPRIATE
`;return{isAppropriate:(await s.generateContent(a)).response.text().trim().toLowerCase().includes("appropriate"),confidence:.9}}catch(e){if(e.message?.includes("quota")||e.message?.includes("exceeded")){let e=i.getCurrentKey();e&&i.markKeyAsExhausted(e)}return{isAppropriate:!0,confidence:.5}}}async function m(e,s){try{let s=r(),a=`
Based on this message, suggest 3 quick reply options (under 30 characters each):

Message: "${e}"

Provide only the suggestions, one per line:
1. [suggestion 1]
2. [suggestion 2]
3. [suggestion 3]
`;return(await s.generateContent(a)).response.text().split("\n").filter(e=>e.match(/^\d+\./)).map(e=>e.replace(/^\d+\.\s*/,"")).slice(0,3)}catch(e){if(e.message?.includes("quota")||e.message?.includes("exceeded")){let e=i.getCurrentKey();e&&i.markKeyAsExhausted(e)}return[]}}async function h(e){try{let s=r(),a=e.map(e=>`${e.username}: ${e.content}`).join("\n"),t=`
Summarize this conversation in 1-2 sentences:

${a}

Provide a concise summary.
`;return(await s.generateContent(t)).response.text()}catch(e){if(e.message?.includes("quota")||e.message?.includes("exceeded")){let e=i.getCurrentKey();e&&i.markKeyAsExhausted(e)}return"Unable to generate summary"}}async function u(e,s){return await i.addNewKey(e,s)}function x(){return i.getKeyStatus()}},76576:(e,s,a)=>{a.d(s,{p:()=>r});var t=a(89812),n=a(49837),i=a(87677);let r=n.forwardRef(({className:e,type:s,...a},n)=>(0,t.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 focus-visible:shadow-md",e),ref:n,...a}));r.displayName="Input"},81227:(e,s,a)=>{a.d(s,{l:()=>n});class t{constructor(){this.isSupported=!1,this.permission="default",this.isTabActive=!0}static getInstance(){return t.instance||(t.instance=new t),t.instance}setupVisibilityListener(){}async requestPermission(){return!1}async showNotification(e){return!1}async showMessageNotification(e,s){let a="dm"===e.chatType?`New DM from ${e.username}`:"group"===e.chatType||"channel"===e.chatType?`New message in ${e.chatName}`:`New global message from ${e.username}`,t="image"===e.messageType?"\uD83D\uDCF7 Sent an image":e.content.length>100?e.content.substring(0,100)+"...":e.content;return this.showNotification({title:a,body:t,tag:`message-${e.id}`,data:{chatType:e.chatType,chatId:e.chatId,chatName:e.chatName,messageId:e.id},onClick:()=>{s&&s(e.chatType,e.chatName,e.chatId)}})}getIsTabActive(){return this.isTabActive}getPermission(){return this.permission}getIsSupported(){return this.isSupported}updatePermission(){}}let n=t.getInstance()}};