(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{814:()=>{},1927:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},2360:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(2432);r(814);var s=r(7854),a=r.n(s),l=r(7328),o=r(7616),i=r(364);function c(){let e=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t=e.current;if(!t)return;let r=t.getContext("2d");if(!r)return;let n=[],s=()=>{t.width=window.innerWidth,t.height=window.innerHeight},a=()=>{n.forEach(e=>{e.x+=e.vx,e.y+=e.vy,(e.x<0||e.x>t.width)&&(e.vx*=-1),(e.y<0||e.y>t.height)&&(e.vy*=-1)})},l=()=>{r.clearRect(0,0,t.width,t.height),r.fillStyle="rgba(0, 0, 0, 0.03)",n.forEach(e=>{r.globalAlpha=e.opacity,r.beginPath(),r.arc(e.x,e.y,e.size,0,2*Math.PI),r.fill()})},o=()=>{a(),l(),requestAnimationFrame(o)};return s(),(()=>{for(let e=0;e<30;e++)n.push({x:Math.random()*t.width,y:Math.random()*t.height,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,size:2*Math.random()+1,opacity:.2*Math.random()+.05})})(),o(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),(0,n.jsx)("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-0",style:{background:"transparent"}})}function u(e){let{children:t}=e;return(0,i.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(()=>{})},[]),(0,n.jsx)("html",{lang:"en",suppressHydrationWarning:!0,className:"hue-blue",children:(0,n.jsx)("body",{className:a().className,children:(0,n.jsx)(l.N,{attribute:"class",defaultTheme:"light",enableSystem:!1,disableTransitionOnChange:!0,children:(0,n.jsxs)(o.v,{children:[(0,n.jsx)(c,{}),t]})})})})}},3237:(e,t,r)=>{Promise.resolve().then(r.bind(r,2360)),Promise.resolve().then(r.t.bind(r,1927,23)),Promise.resolve().then(r.t.bind(r,814,23))},7328:(e,t,r)=>{"use strict";r.d(t,{D:()=>u,N:()=>d});var n=r(364),s=(e,t,r,n,s,a,l,o)=>{let i=document.documentElement,c=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?s.map(e=>a[e]||e):s;r?(i.classList.remove(...n),i.classList.add(a&&a[t]?a[t]:t)):i.setAttribute(e,t)}),r=t,o&&c.includes(r)&&(i.style.colorScheme=r)}if(n)u(n);else try{let e=localStorage.getItem(t)||r,n=l&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(n)}catch(e){}},a=["light","dark"],l="(prefers-color-scheme: dark)",o="undefined"==typeof window,i=n.createContext(void 0),c={setTheme:e=>{},themes:[]},u=()=>{var e;return null!=(e=n.useContext(i))?e:c},d=e=>n.useContext(i)?n.createElement(n.Fragment,null,e.children):n.createElement(m,{...e}),h=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:s=!0,enableColorScheme:o=!0,storageKey:c="theme",themes:u=h,defaultTheme:d=s?"system":"light",attribute:m="data-theme",value:p,children:b,nonce:w,scriptProps:E}=e,[x,k]=n.useState(()=>y(c,d)),[S,C]=n.useState(()=>"system"===x?g():x),P=p?Object.values(p):u,T=n.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=g());let n=p?p[t]:t,l=r?v(w):null,i=document.documentElement,c=e=>{"class"===e?(i.classList.remove(...P),n&&i.classList.add(n)):e.startsWith("data-")&&(n?i.setAttribute(e,n):i.removeAttribute(e))};if(Array.isArray(m)?m.forEach(c):c(m),o){let e=a.includes(d)?d:null,r=a.includes(t)?t:e;i.style.colorScheme=r}null==l||l()},[w]),N=n.useCallback(e=>{let t="function"==typeof e?e(x):e;k(t);try{localStorage.setItem(c,t)}catch(e){}},[x]),L=n.useCallback(e=>{C(g(e)),"system"===x&&s&&!t&&T("system")},[x,t]);n.useEffect(()=>{let e=window.matchMedia(l);return e.addListener(L),L(e),()=>e.removeListener(L)},[L]),n.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?k(e.newValue):N(d))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[N]),n.useEffect(()=>{T(null!=t?t:x)},[t,x]);let _=n.useMemo(()=>({theme:x,setTheme:N,forcedTheme:t,resolvedTheme:"system"===x?S:x,themes:s?[...u,"system"]:u,systemTheme:s?S:void 0}),[x,N,t,S,s,u]);return n.createElement(i.Provider,{value:_},n.createElement(f,{forcedTheme:t,storageKey:c,attribute:m,enableSystem:s,enableColorScheme:o,defaultTheme:d,value:p,themes:u,nonce:w,scriptProps:E}),b)},f=n.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:a,enableSystem:l,enableColorScheme:o,defaultTheme:i,value:c,themes:u,nonce:d,scriptProps:h}=e,m=JSON.stringify([a,r,i,t,u,c,l,o]).slice(1,-1);return n.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?d:"",dangerouslySetInnerHTML:{__html:"(".concat(s.toString(),")(").concat(m,")")}})}),y=(e,t)=>{let r;if(!o){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},v=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},g=e=>(e||(e=window.matchMedia(l)),e.matches?"dark":"light")},7616:(e,t,r)=>{"use strict";r.d(t,{J:()=>i,v:()=>o});var n=r(2432),s=r(364),a=r(7328);let l=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[i,c]=(0,s.useState)(!0),{setTheme:u,theme:d}=(0,a.D)(),[h,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{m(!0)},[]);let f=e=>{h&&((null==e?void 0:e.hue)?(console.log("[UserProvider] Applying hue:",e.hue),["hue-blue","hue-purple","hue-pink","hue-red","hue-orange","hue-yellow","hue-green","hue-teal"].forEach(e=>document.documentElement.classList.remove(e)),document.documentElement.classList.add("hue-".concat(e.hue))):(["hue-blue","hue-purple","hue-pink","hue-red","hue-orange","hue-yellow","hue-green","hue-teal"].forEach(e=>document.documentElement.classList.remove(e)),document.documentElement.classList.add("hue-blue")))};return(0,s.useEffect)(()=>{let e=async()=>{try{console.log("[UserProvider] Fetching user data...");let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();console.log("[UserProvider] User data received:",t.user),o(t.user),h&&t.user&&f(t.user)}else console.log("[UserProvider] No user found"),o(null)}catch(e){console.error("[UserProvider] Fetch error:",e),o(null)}finally{c(!1)}};h&&e()},[h,u]),(0,s.useEffect)(()=>{h&&f(r)},[r,h]),(0,n.jsx)(l.Provider,{value:{user:r,loading:i,setUser:e=>{console.log("[UserProvider] updateUser called with:",e),o(e),h&&e&&(u(e.theme||"light"),f(e))}},children:t})}function i(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},7854:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}}},e=>{var t=t=>e(e.s=t);e.O(0,[7868,5022,5575,7358],()=>t(3237)),_N_E=e.O()}]);