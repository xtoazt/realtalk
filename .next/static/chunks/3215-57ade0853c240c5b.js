"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3215],{3215:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(2432),l=a(364),r=a(8725),o=a(8845),c=a(7184),i=a(6127),n=a(855),d=a(6334),h=a(3881),x=a(8945),m=a(3319),u=a(1823),p=a(4652),b=a(8311),g=a(2121),w=a(677),v=a(9392);let f="https://image.tmdb.org/t/p/w500",j=(e,t,a,s)=>{let l="https://vidsrc.cc/".concat(e,"/embed/movie/").concat(t),r=new URLSearchParams;"v3"===e&&(r.set("autoPlay",a?"true":"false"),"boolean"==typeof(null==s?void 0:s.poster)&&r.set("poster",String(s.poster)));let o=r.toString();return o?"".concat(l,"?").concat(o):l};function N(){let e="313f068f6c3b9237237a20e0cc115d5",[t,a]=(0,l.useState)([]),[N,k]=(0,l.useState)([]),[y,C]=(0,l.useState)(""),[S,_]=(0,l.useState)(null),[A,T]=(0,l.useState)(!1),[P,R]=(0,l.useState)("popular"),[I,L]=(0,l.useState)(1),[W,B]=(0,l.useState)(!1),[E,z]=(0,l.useState)(!1),[D,F]=(0,l.useState)([]),[M,U]=(0,l.useState)(!0),[O,q]=(0,l.useState)(!0),[H,J]=(0,l.useState)("v3"),[K,V]=(0,l.useState)(!1),[Y,G]=(0,l.useState)(!1),[Q,X]=(0,l.useState)(""),[Z,$]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(null),[ea,es]=(0,l.useState)({}),el=(0,l.useRef)(null),er=(0,l.useRef)(null),eo=(0,l.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,l=a?"https://api.themoviedb.org/3/search/movie?api_key=".concat(e,"&query=").concat(encodeURIComponent(a),"&page=").concat(t):"https://api.themoviedb.org/3/movie/".concat(s||"popular","?api_key=").concat(e,"&page=").concat(t),r=await fetch(l);return(await r.json()).results||[]},[e]),ec=(0,l.useCallback)(async t=>{if(void 0!==ea[t])return ea[t];try{let a=await fetch("https://api.themoviedb.org/3/movie/".concat(t,"/external_ids?api_key=").concat(e)),s=await a.json(),l=(null==s?void 0:s.imdb_id)||void 0;return es(e=>({...e,[t]:l})),l}catch(e){es(e=>({...e,[t]:void 0}));return}},[e,ea]);(0,l.useEffect)(()=>{eo(1).then(e=>{a([...e].sort(()=>.5-Math.random()).slice(0,10)),k(e)})},[eo]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{B(!0),y.trim()?eo(1,y.trim()).then(e=>{k(e),L(1)}).finally(()=>B(!1)):eo(1,void 0,P).then(e=>{k(e),L(1)}).finally(()=>B(!1))},250);return()=>clearTimeout(e)},[y,P,eo]);let ei=e=>{_(e),T(!1),et(null)},en=()=>{S&&(er.current=window.open,window.open=()=>null,T(!0),$(!0),(async()=>{let e=O?await ec(S.id):void 0;X(j(H,e&&e.startsWith("tt")?e:String(S.id),K,{poster:Y}))})())},ed=(0,l.useMemo)(()=>t[0],[t]),eh=e=>e?new Date(e).getFullYear():void 0,ex=async e=>{try{await navigator.clipboard.writeText(e),alert("Link copied")}catch(e){}};return(0,s.jsxs)("div",{className:"min-h-screen",children:[(0,s.jsxs)("div",{className:"h-64 md:h-96 rounded-b-[40px] relative overflow-hidden",style:{backgroundImage:(null==ed?void 0:ed.poster_path)?"url(".concat(f).concat(ed.poster_path,")"):void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent"}),(0,s.jsx)("div",{className:"absolute bottom-4 left-4 hue-bg/50 px-4 py-2 rounded-full text-sm backdrop-blur",children:"Real TV • Fresh releases in 4K when available"})]}),(0,s.jsx)("div",{className:"sticky top-4 z-10 px-4 mt-3",children:(0,s.jsxs)("div",{className:"glass-effect flex items-center flex-wrap gap-2 px-4 py-2 rounded-full shadow-lg",children:[(0,s.jsx)("button",{onClick:()=>location.href="/dashboard",className:"text-xs px-3 py-1 rounded-full border backdrop-blur-md bg-white/40 dark:bg-black/30 text-black dark:text-white border-white/40 dark:border-white/20 hover:bg-white/60 dark:hover:bg-black/50",children:"Back to Dashboard"}),(0,s.jsx)("div",{className:"flex items-center gap-1 mr-2",children:["popular","top_rated","upcoming","now_playing"].map(e=>(0,s.jsx)("button",{onClick:()=>R(e),className:"text-xs px-2 py-1 rounded-full border ".concat(P===e?"bg-white text-black border-white":"text-white/80 border-white/30 hover:bg-white/10"),children:e.replace("_"," ")},e))}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,s.jsx)(r.A,{className:"h-4 w-4 opacity-70"}),(0,s.jsx)("input",{value:y,onChange:e=>C(e.target.value),placeholder:"Search movies...",className:"bg-transparent outline-none text-sm"})]}),(0,s.jsx)("div",{className:"w-px h-4 bg-white/20 mx-2"}),(0,s.jsxs)("button",{className:"text-xs px-2 py-1 rounded-full border text-white/80 border-white/30 hover:bg-white/10",onClick:()=>z(e=>!e),children:[E?(0,s.jsx)(o.A,{className:"h-3 w-3 inline mr-1"}):(0,s.jsx)(c.A,{className:"h-3 w-3 inline mr-1"})," ",E?"Comfort":"Compact"]}),(0,s.jsxs)("button",{className:"text-xs px-2 py-1 rounded-full border text-white/80 border-white/30 hover:bg-white/10",onClick:()=>U(e=>!e),children:[(0,s.jsx)(i.A,{className:"h-3 w-3 inline mr-1"})," ",M?"Hide":"Show"," Watchlist"]})]})}),D.length>0&&(0,s.jsxs)("section",{className:"mt-6 px-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-2 flex items-center gap-2",children:[(0,s.jsx)(i.A,{className:"h-4 w-4 text-pink-400"})," Watchlist"]}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"flex gap-3 overflow-x-auto no-scrollbar p-2",children:D.map(e=>(0,s.jsxs)("button",{onClick:()=>ei(e),className:"flex-none w-36 rounded-xl overflow-hidden shadow-md transition-transform hover:scale-105 relative group",children:[e.poster_path?(0,s.jsx)("img",{src:"".concat(f).concat(e.poster_path),alt:e.title,className:"w-full h-auto"}):(0,s.jsx)("div",{className:"w-full h-52 bg-muted"}),(0,s.jsx)("span",{className:"absolute bottom-1 left-1 right-1 text-[11px] bg-black/60 px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition",children:e.title})]},"wl-".concat(e.id)))})})]}),(0,s.jsxs)("section",{className:"mt-8 px-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Top 10 Today"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{ref:el,className:"flex gap-3 overflow-x-auto no-scrollbar p-2 pr-10",children:t.map(e=>(0,s.jsx)("button",{onClick:()=>ei(e),className:"flex-none w-40 rounded-xl overflow-hidden shadow-md transition-transform hover:scale-105",children:e.poster_path?(0,s.jsx)("img",{src:"".concat(f).concat(e.poster_path),alt:e.title,className:"w-full h-auto"}):(0,s.jsx)("div",{className:"w-full h-60 bg-muted"})},e.id))}),(0,s.jsx)("button",{onClick:()=>{el.current&&el.current.scrollBy({left:.8*el.current.clientWidth,behavior:"smooth"})},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/60 hover:bg-black/80 text-white rounded-full p-2","aria-label":"Scroll right",children:(0,s.jsx)(n.A,{className:"h-5 w-5"})}),(0,s.jsx)("button",{onClick:()=>{el.current&&el.current.scrollBy({left:-(.8*el.current.clientWidth),behavior:"smooth"})},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/60 hover:bg-black/80 text-white rounded-full p-2","aria-label":"Scroll left",children:(0,s.jsx)(d.A,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)("section",{className:"mt-6 px-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"All"}),W&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 animate-spin"})," Loading…"]}),(0,s.jsx)("div",{className:"grid ".concat(E?"grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3"),children:N.map(e=>{var t;return(0,s.jsxs)("button",{onClick:()=>ei(e),className:"rounded-xl overflow-hidden shadow-md transition-transform hover:scale-105 relative group",children:[e.poster_path?(0,s.jsx)("img",{src:"".concat(f).concat(e.poster_path),alt:e.title,className:"w-full h-auto"}):(0,s.jsx)("div",{className:"w-full aspect-[2/3] bg-muted"}),(0,s.jsxs)("div",{className:"absolute top-1 left-1 text-[11px] bg-black/60 px-1.5 py-0.5 rounded flex items-center gap-1 opacity-0 group-hover:opacity-100 transition",children:[(0,s.jsx)(x.A,{className:"h-3 w-3 text-yellow-400"})," ",(null===(t=e.vote_average)||void 0===t?void 0:t.toFixed(1))||"—"]}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),F(t=>{let a=t.some(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):t.concat([e]);try{localStorage.setItem("watchlist",JSON.stringify(a))}catch(e){}return a})},title:"Toggle watchlist",className:"absolute top-1 right-1 bg-black/60 hover:bg-black/70 rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:D.some(t=>t.id===e.id)?(0,s.jsx)(i.A,{className:"h-3.5 w-3.5 text-pink-400"}):(0,s.jsx)(m.A,{className:"h-3.5 w-3.5 text-white"})})]},e.id)})}),(0,s.jsx)("div",{className:"flex justify-center mt-4",children:(0,s.jsx)("button",{onClick:async()=>{let e=I+1;B(!0);let t=await eo(e,y.trim()||void 0,P);k(e=>e.concat(t)),L(e),B(!1)},className:"px-4 py-2 text-sm rounded-full border hover:bg-white/10",children:"Load more"})})]}),S&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm",children:[(0,s.jsx)("button",{onClick:()=>{T(!1),_(null),er.current&&(window.open=er.current,er.current=null)},className:"absolute top-4 left-4 bg-purple-600 hover:bg-purple-700 text-white rounded-full p-2 shadow-lg","aria-label":"Close",children:(0,s.jsx)(u.A,{className:"h-5 w-5"})}),S.poster_path&&(0,s.jsx)("img",{src:"".concat(f).concat(S.poster_path),alt:S.title,className:"hidden md:block absolute top-6 right-6 w-60 h-80 object-cover rounded-3xl shadow-2xl"}),(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center px-4",children:[(0,s.jsxs)("h3",{className:"text-2xl md:text-3xl font-bold mb-1",children:[S.title," ",eh(S.release_date)?(0,s.jsxs)("span",{className:"text-base text-muted-foreground",children:["(",eh(S.release_date),")"]}):null]}),S.overview&&(0,s.jsx)("p",{className:"max-w-2xl text-sm text-muted-foreground mb-3 line-clamp-3",children:S.overview}),A?(0,s.jsxs)("div",{className:"absolute inset-0",children:[Z&&(0,s.jsx)("div",{className:"absolute inset-0 grid place-items-center text-white/80",children:(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-white/60 border-t-transparent rounded-full animate-spin"})}),ee&&(0,s.jsx)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-red-600 text-white rounded px-3 py-1 text-sm shadow",children:ee}),(0,s.jsx)("iframe",{src:Q,className:"w-full h-full",sandbox:"allow-same-origin allow-scripts allow-pointer-lock allow-forms",allow:"autoplay; encrypted-media; fullscreen",referrerPolicy:"no-referrer",onLoad:()=>$(!1)},Q),(0,s.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-2",children:[(0,s.jsxs)("button",{className:"text-xs bg-white/10 hover:bg-white/20 text-white rounded px-3 py-1",onClick:()=>window.open(Q,"_blank"),children:[(0,s.jsx)(w.A,{className:"h-3 w-3 inline mr-1"}),"Open in new tab"]}),(0,s.jsxs)("button",{className:"text-xs bg-white/10 hover:bg-white/20 text-white rounded px-3 py-1",onClick:()=>ex(Q),children:[(0,s.jsx)(v.A,{className:"h-3 w-3 inline mr-1"}),"Copy link"]}),(0,s.jsx)("button",{className:"text-xs bg-white/10 hover:bg-white/20 text-white rounded px-3 py-1",onClick:()=>{T(!1),setTimeout(en,0)},children:"Reload"})]})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-2 rounded-full",children:[(0,s.jsx)(p.A,{className:"h-4 w-4"}),(0,s.jsxs)("label",{className:"text-sm flex items-center gap-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:O,onChange:e=>q(e.target.checked)})," Use IMDB when available"]}),(0,s.jsxs)("select",{className:"bg-transparent text-sm border rounded px-2 py-1",value:H,onChange:e=>J(e.target.value),children:[(0,s.jsx)("option",{value:"v3",children:"v3"}),(0,s.jsx)("option",{value:"v2",children:"v2"})]}),(0,s.jsxs)("label",{className:"text-sm flex items-center gap-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:K,onChange:e=>V(e.target.checked)})," Autoplay"]}),(0,s.jsxs)("label",{className:"text-sm flex items-center gap-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:Y,onChange:e=>G(e.target.checked)})," Poster"]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("button",{onClick:en,className:"inline-flex items-center gap-2 bg-orange-500 hover:bg-orange-600 text-white font-semibold px-6 py-3 rounded-full shadow-lg",children:[(0,s.jsx)(b.A,{className:"h-5 w-5"})," Play"]})}),(0,s.jsxs)("div",{className:"text-xs text-white/70 flex items-center gap-1",children:[(0,s.jsx)(g.A,{className:"h-3 w-3"})," If playback fails, try switching version."]})]})]})]})]})}}}]);